{% extends 'spaces/base.html' %}

{% block title %}Connexion{% endblock %}

{% block navbarbrand1 %}
    <a class="navbar-brand" id="navbarbrand1" href="#">Nouveautés</a>
{% endblock %}

{% block navlink1 %}
    <a class="nav-link" href="#" id="navlink1">Forum<span class="sr-only">(current)</span></a>
{% endblock %}

{% block navlink2 %}
    <a class="nav-link" href="{% url 'spaces:signup' %}" id="navlink2">S'enregistrer</a>
{% endblock %}

{% block navlinkdisabled1 %}
    <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true" id="navlinkdisabled1">Se connecter</a>
{% endblock %}

{% block content %}
<div class="row" style="margin-top: 1rem;">
    <div class="col-1 col-sm-2 col-md-3"></div>
    <div class="col-10 col-sm-8 col-md-6 card" style="padding: 2rem;border-radius: 1rem;">
        <div class="text-center">
            <i class="fas fa-user-circle" style="font-size: 6rem; color: cornflowerblue;padding: 2px;"></i>
            <h5 id="" style="font-weight: bold;">
                LOGEIQUEMENT
            </h5>
            <p id="">
                Connectez-vous!
            </p> 
        </div>
        {% if error %}
            <p>
                <strong>Utilisateur inconnu ou mauvais de mot de passe.</strong>
            </p>
        {% endif %}

        <form method="post" action="{% url 'spaces:signin' %}">
            {% csrf_token %}
            <div style="padding: 0rem 4rem">
                <div class="">
                    <p style="font-weight: bold;">
                        {{form.username.label}}
                        {{form.username}}
                        <small id="emailHelp" class="form-text text-muted">
                            Nous ne partagerons pas votre email avec quelqu'un d'autre.
                        </small>
                    </p>
                </div>

                <div class="form-group">
                    <p style="font-weight: bold;">
                        {{form.password.label}}
                        {{form.password}}
                    </p>
                </div>

                <div class="form-group text-center">
                    <div class="form-check form-check-inline">
                        <p>
                            {{form.client.label}}
                            {{form.client}}
                        </p>

                        <p>
                            {{form.landlord.label}}
                            {{form.landlord}}
                        </p>
                    </div>
                </div>

                <button style="width: 100%;" type="submit" class="btn btn-primary" name="Connectez vous" value="Connectez vous">
                    Connectez vous
                </button>
            </div>
        </form>

        {% if client_user.is_authenticated %}
            <p>
                Vous êtes connecté client, {{ client_user.username }} !
            </p>
            <P>
                <a href="{% url 'spaces:client_profile' client_user.id %}" class="btn btn-lg btn-secondary">Allez à votre compte</a>
            </P>
            {% elif landlord_user.is_authenticated %}
            <p>
                Vous êtes connecté propietaire, {{ landlord_user.username }}!
            </p>
            <P>
                <a href=" {% url 'spaces:landlord_profile' landlord_user.id %}" class="btn btn-lg btn-secondary">
                    Allez à votre compte
                </a>
            </P>
        {% endif %}
    </div>
    <div class="col-1 col-sm-2 col-md-3"></div>
</div>
{% endblock %}

{% block footer %}{% endblock %}