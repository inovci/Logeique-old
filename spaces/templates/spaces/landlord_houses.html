{% extends "spaces/landlord_profile.html" %}
{% block title %}voir maisons{% endblock %}

{% block navitem1 %}
    <a style="color: #fff;" class="nav-link" href="{% url 'spaces:landlord_profile' user.id %}">
        <span data-feather="home"></span> ACCUEIL<span class="sr-only">(current)</span>
    </a>
{% endblock navitem1 %}

{% block navitem4 %}
    <a style="border-radius: 5px;" class="btn-outline-secondary nav-link active" href="{% url 'spaces:landlord_houses' user.id %}">
        <span data-feather="home">(current)</span>
        Voir ses Maisons
    </a>
{% endblock navitem4 %}

{% block h1 %}Consultations de biens{% endblock h1 %}

{% block content %}
<div>
    {% if no_house_err %}
        <p>Vous n'avez aucune maison pour l'instant</p>
    {% endif %}

    <div class="row row-cols-1 row-cols-md-3">
        {% for house in houses %}
            <div class="col mb-4">
                <div class="card bg-light mb-3" style="width: 25rem;height: 300px;padding: 5px;">
                    {% if house.house_image %}
                        <img style="height: 200px;" src="{{house.house_image.url}}" alt="image de maison">
                    {% endif %}
                    <div class="card-body">
                        <p>
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#houseModal-{{house.id}}">
                              Plus de d√©tails
                            </button>
                            {{house.id}}
                        </p>
                        <!-- Modal -->
                        <div class="modal fade" id="houseModal-{{house.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Maison</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                              </div>
                              <div class="modal-body" style="background-color: #fdfdfd;">
                                <div class="card card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <p>Ville/Commune: {{house.house_township}} {{house.id}}</p>
                                            <p>Quartier:  {{house.house_area}}</p>
                                            <p>Loyer: {{house.house_rent}} FCFA</p>
                                            <p>Caution: {{house.house_deposit}} FCFA</p>
                                            <p>Type: {{house.house_kind}}</p>
                                            <p>{{house.house_rooms_number}} pieces</p>
                                            {% if house.house_available %}
                                                <P>Disponible</P>
                                            {% else %}
                                                <p>Indisponible</p>
                                            {% endif %}
                                        </div>
                                        <div class="col-md-6">
                                            {% if house.house_image %}
                                                <img style="max-height: 100%;max-width: 100%;" src="{{house.house_image.url}}" alt="image de maison">
                                            {% endif %}
                                        </div>
                                    </div>

                                    <div class="text-center"><a href="{% url 'spaces:edit_house_founded' %}" style="width: 50%;" class="btn btn-primary">Editez cette maison</a></div>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                                <button type="button" class="btn btn-primary">Maison suivante</button>
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}